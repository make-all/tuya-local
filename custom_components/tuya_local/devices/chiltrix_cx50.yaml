name: Chiltrix CX50 Heat Pump
products:
  - id: kjf6gjn1kaawfyjk
    manufacturer: Chiltrix
    model: CX50

entities:
  # POWER
  - entity: select
    name: Power
    icon: mdi:power-standby
    dps:
      - id: 126
        type: boolean
        name: option
        mapping:
          - dps_val: true
            value: "on"
          - dps_val: false
            value: "off"

  # MODE
  - entity: select
    name: Mode
    icon: mdi:heat-pump
    dps:
      - id: 130
        type: string
        name: option
        mapping:
          - dps_val: "cool"
            value: "cool"
          - dps_val: "heat"
            value: "heat"
          - dps_val: "dhw"
            value: "dhw"
          - dps_val: "cool_dhw"
            value: "cool_dhw"
          - dps_val: "heat_dhw"
            value: "heat_dhw"

  # SETPOINTS / CONFIG
  - entity: number
    name: Return water target
    category: config
    icon: mdi:pipe-valve
    dps:
      - id: 101
        type: integer
        name: value
        unit: °C
        range:
          min: 0
          max: 80

  - entity: number
    name: DHW target
    category: config
    icon: mdi:water-boiler
    dps:
      - id: 102
        type: integer
        name: value
        unit: °C
        range:
          min: 10
          max: 70

  - entity: number
    name: Minimum water flow
    category: config
    icon: mdi:water-pump
    dps:
      - id: 103
        type: integer
        name: value
        unit: L/min
        range:
          min: 0
          max: 60

  # TEMPERATURE & FLOW SENSORS
  - entity: sensor
    name: Return water temp  # AI generated name: Return water temperature
    # device_class: temperature
    category: diagnostic
    icon: mdi:thermometer-chevron-down
    dps:
      - id: 111
        type: integer
        name: sensor
        unit: °C
        class: measurement
        mapping:
          - scale: 10  # divide by 10 so 310 → 31.0

  - entity: sensor
    name: Out water temp  # AI generated name: Outlet water temperature
    # device_class: temperature
    category: diagnostic
    icon: mdi:thermometer-chevron-up
    dps:
      - id: 112
        type: integer
        name: sensor
        unit: °C
        class: measurement

  - entity: sensor
    name: DHW temperature
    # device_class: temperature
    category: diagnostic
    icon: mdi:thermometer-water
    dps:
      - id: 113
        type: integer
        name: sensor
        unit: °C
        class: measurement

  - entity: sensor
    name: AC water flow
    category: diagnostic
    icon: mdi:water
    dps:
      - id: 114
        type: integer
        name: sensor
        unit: L/min
        class: measurement

  - entity: sensor
    name: Comp temp  # AI generated name: Discharge temperature
    # device_class: temperature
    category: diagnostic
    icon: mdi:fire
    dps:
      - id: 115
        type: integer
        name: sensor
        unit: °C
        class: measurement

  - entity: sensor
    name: Coli_temp  # AI generated name: Pipe temperature
    # device_class: temperature
    category: diagnostic
    icon: mdi:pipe
    dps:
      - id: 116
        type: integer
        name: sensor
        unit: °C
        class: measurement

  - entity: sensor
    name: Ambient temp  # AI generated name: Ambient temperature
    # device_class: temperature
    category: diagnostic
    icon: mdi:thermometer-lines
    dps:
      - id: 117
        type: integer
        name: sensor
        unit: °C
        class: measurement

  - entity: sensor
    name: Comp return temp  # AI generated name: Suction temperature
    # device_class: temperature
    category: diagnostic
    icon: mdi:fan
    dps:
      - id: 118
        type: integer
        name: sensor
        unit: °C
        class: measurement

  - entity: sensor
    name: Plate change temp  # AI generated name: Inner pipe temperature
    # device_class: temperature
    category: diagnostic
    icon: mdi:pipe-wrench
    dps:
      - id: 119
        type: integer
        name: sensor
        unit: °C
        class: measurement

  # ELECTRICAL / SPEED
  - entity: sensor
    name: Comp  # AI generated name: Compressor frequency
    # device_class: frequency
    category: diagnostic
    icon: mdi:engine
    dps:
      - id: 106
        type: integer
        name: sensor
        unit: Hz
        class: measurement

  - entity: sensor
    name: Fan speed
    category: diagnostic
    icon: mdi:fan-auto
    dps:
      - id: 107
        type: integer
        name: sensor
        unit: rpm
        class: measurement

  - entity: sensor
    name: Current  # AI generated name: Current draw
    # device_class: current
    category: diagnostic
    icon: mdi:current-ac
    dps:
      - id: 108
        type: integer
        name: sensor
        unit: A
        class: measurement
        mapping:
          - scale: 10  # divide by 10 so 310 → 31.0

  # RAW STATUS WORD (optional)
  - entity: sensor
    name: Status bits  # AI generated name: Status word
    category: diagnostic
    icon: mdi:information-outline
    dps:
      - id: 120
        type: integer
        name: sensor

  # FAULT CODES
  - entity: select
    name: Fault group 1
    icon: mdi:alert-circle
    category: diagnostic
    dps:
      - id: 104
        type: string
        name: option
        mapping:
          - dps_val: "eorr0"
            value: "eorr0"
          - dps_val: "eorr1"
            value: "eorr1"
          - dps_val: "eorr2"
            value: "eorr2"
          - dps_val: "eorr3"
            value: "eorr3"
          - dps_val: "eorr4"
            value: "eorr4"
          - dps_val: "eorr5"
            value: "eorr5"
          - dps_val: "eorr6"
            value: "eorr6"
          - dps_val: "eorr7"
            value: "eorr7"
          - dps_val: "eorr8"
            value: "eorr8"
          - dps_val: "eorr9"
            value: "eorr9"
          - dps_val: "eorr10"
            value: "eorr10"
          - dps_val: "eorr11"
            value: "eorr11"
          - dps_val: "eorr12"
            value: "eorr12"
          - dps_val: "eorr13"
            value: "eorr13"
          - dps_val: "eorr14"
            value: "eorr14"
          - dps_val: "eorr15"
            value: "eorr15"
          - dps_val: "eorr16"
            value: "eorr16"
          - dps_val: "eorr17"
            value: "eorr17"
          - dps_val: "eorr18"
            value: "eorr18"
          - dps_val: "eorr19"
            value: "eorr19"
          - dps_val: "eorr20"
            value: "eorr20"
          - dps_val: "eorr21"
            value: "eorr21"
          - dps_val: "eorr22"
            value: "eorr22"
          - dps_val: "eorr23"
            value: "eorr23"
          - dps_val: "eorr24"
            value: "eorr24"
          - dps_val: "eorr25"
            value: "eorr25"
          - dps_val: "eorr26"
            value: "eorr26"
          - dps_val: "eorr27"
            value: "eorr27"
          - dps_val: "eorr28"
            value: "eorr28"
          - dps_val: "eorr29"
            value: "eorr29"
          - dps_val: "eorr30"
            value: "eorr30"
          - dps_val: "eorr31"
            value: "eorr31"

  - entity: select
    name: Fault group 2
    icon: mdi:alert-circle-outline
    category: diagnostic
    dps:
      - id: 105
        type: string
        name: option
        mapping:
          - dps_val: "eorr0"
            value: "eorr0"
          - dps_val: "eorr32"
            value: "eorr32"
          - dps_val: "eorr33"
            value: "eorr33"
          - dps_val: "eorr34"
            value: "eorr34"
          - dps_val: "eorr35"
            value: "eorr35"
          - dps_val: "eorr36"
            value: "eorr36"
          - dps_val: "eorr37"
            value: "eorr37"
          - dps_val: "eorr38"
            value: "eorr38"
          - dps_val: "eorr39"
            value: "eorr39"
          - dps_val: "eorr40"
            value: "eorr40"
          - dps_val: "eorr41"
            value: "eorr41"
          - dps_val: "eorr42"
            value: "eorr42"
          - dps_val: "eorr43"
            value: "eorr43"
          - dps_val: "eorr44"
            value: "eorr44"
          - dps_val: "eorr45"
            value: "eorr45"
          - dps_val: "eorr46"
            value: "eorr46"
          - dps_val: "eorr47"
            value: "eorr47"
          - dps_val: "eorr48"
            value: "eorr48"
          - dps_val: "eorr49"
            value: "eorr49"
          - dps_val: "eorr50"
            value: "eorr50"
          - dps_val: "eorr51"
            value: "eorr51"
          - dps_val: "eorr52"
            value: "eorr52"
          - dps_val: "eorr53"
            value: "eorr53"
          - dps_val: "eorr54"
            value: "eorr54"
          - dps_val: "eorr55"
            value: "eorr55"
          - dps_val: "eorr56"
            value: "eorr56"
          - dps_val: "eorr57"
            value: "eorr57"
          - dps_val: "eorr58"
            value: "eorr58"
          - dps_val: "eorr59"
            value: "eorr59"
          - dps_val: "eorr60"
            value: "eorr60"