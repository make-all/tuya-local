name: Euroster 4040
products:
  - id: f8oamfazwp5wo8go
    name: Euroster 4040
# room thermostat controlling the pump relay
entities:
  - entity: switch
    icon: "mdi:switch"
    dps:
      - id: 1
        type: boolean
        name: switch
  - entity: select
    name: Temperature Unit
    category: config
    dps:
      - id: 23
        type: string
        name: option
        mapping:
          - dps_val: "c"
            value: "C"
          - dps_val: "f"
            value: "F"
  - entity: sensor
    name: Set Temperature
    category: diagnostic
    dps:
      - id: 103
        type: base64
        name: sensor
        optional: true
        mask: "0000000000000000FF000000000000000000"
        mapping:
          - scale: 1
  # HEX Value      2d 02 00 00 00 00 00 02 18 01 14 06 80 00 80 00 08 02
  - entity: sensor
    name: Set Temperature Decimal
    category: diagnostic
    dps:
      - id: 103
        type: base64
        name: sensor
        optional: true
        mask: "000000000000000000FF0000000000000000"
        mapping:
          - scale: 10
  # Set_temperature= "Set Temperature"+"Set Temperature Decimal"
  - entity: sensor
    name: Current Temperature
    category: diagnostic
    dps:
      - id: 103
        type: base64
        name: sensor
        optional: true
        mask: "00000000000000000000FF00000000000000"
        mapping:
          - scale: 1
            constraint: temperature_unit
  - entity: sensor
    name: Current Temperature Decimal
    category: diagnostic
    dps:
      - id: 103
        type: base64
        name: sensor
        optional: true
        mask: "0000000000000000000000FF000000000000"
        mapping:
          - scale: 10
  # Current Temperature= "Current Temperature"+"Current Temperature Decimal"
  - entity: sensor
    name: Status
    category: diagnostic
    dps:
      - id: 103
        type: base64
        name: sensor
        optional: true
        mask: "FF0000000000000000000000000000000000"
        mapping:
          - scale: 1
  # State of module/pump:
  # not working(40) / working(45) /temperature too high(57)/ not working yet(41)

  - entity: button
    # requesting refresh of sensors (dp103)
    name: GET INFO
    class: restart
    category: config
    dps:
      - id: 101
        type: boolean
        name: button
        optional: true
  - entity: button
    # requesting refresh of schedule
    # (dp 104 - HEX Value(015555555aaaaaaaaaaaaaaa55170918010000))
    name: GET PROGRAM
    class: restart
    category: config
    dps:
      - id: 102
        type: boolean
        name: button
        optional: true
