name: Wellio Dehumidifier

# Tuya product identifiers this definition applies to
products:
  - id: i3il8w2rhtn90s33
    name: Wellio Dehumidifier

primary_entity:
  # Main dehumidifier entity exposed to Home Assistant
  entity: humidifier
  dps:
    # Power on/off
    - id: 1
      name: switch
      type: boolean

    # Operating mode reported as enum string
    - id: 2
      name: mode
      type: string
      mapping:
        - dps_val: "1"
          value: dehumidify
        - dps_val: "2"
          value: laundry
        - dps_val: "3"
          value: fan

    # Current ambient humidity reported by the device
    - id: 3
      name: current_humidity
      type: integer
      unit: "%"

    # Target humidity setpoint controlled by the dehumidifier
    - id: 4
      name: humidity
      type: integer
      unit: "%"
      range:
        min: 29
        max: 91
      step: 1

secondary_entities:
  # Fan speed selector
  - entity: select
    name: Fan speed
    icon: "mdi:fan"
    dps:
      - id: 6
        name: option
        type: string
        mapping:
          - dps_val: "1"
            value: low
          - dps_val: "2"
            value: high

  # Internal temperature sensor
  - entity: sensor
    name: Temperature
    class: temperature
    dps:
      - id: 110
        name: sensor
        type: integer
        unit: "Â°C"

  # Countdown timer in hours
  - entity: number
    name: Timer
    category: config
    dps:
      - id: 106
        name: value
        type: integer
        range:
          min: 0
          max: 24
        step: 1
        unit: "h"

  # Fault or status code reported by the device
  - entity: sensor
    name: Fault code
    category: diagnostic
    dps:
      - id: 11
        name: sensor
        type: integer

  # Child lock control
  - entity: switch
    name: Lock
    category: config
    dps:
      - id: 7
        name: switch
        type: boolean

  # Air swing / louver control
  - entity: switch
    name: Swing
    category: config
    dps:
      - id: 8
        name: switch
        type: boolean
